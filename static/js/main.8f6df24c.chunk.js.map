{"version":3,"sources":["filters/data.ts","filters/checkbox.tsx","filters/filter.tsx","filters/index.tsx","results/bargraph.tsx","results/result.tsx","results/index.tsx","AppWrapper.tsx","utils.js","App.tsx","serviceWorker.ts","index.tsx"],"names":["data","answers","ageRange","characterGender","class","classComparison","contentInterest","expectedTimeTo60","faction","firstRetailExpansionPlayed","hasActiveSub","hasPlayedPrivateServer","mostRecentExpansionPlayed","prof60","profLeveling","race","region","role","serverType","colors","colorBlindColors","colorsObj","Druid","Hunter","Mage","Paladin","Priest","Rogue","Shaman","Warlock","Warrior","DK","DH","Monk","alt1","alt2","questions","titles","responseDate","Checkbox","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","displayName","startOnSelect","bind","assertThisInitialized","react","className","style","onClick","backgroundColor","isSelected","isColorBlind","answer","e","onSelect","type","React","FilterComp","_this2","_this$props","idx","selectedAnswers","title","Data","map","checkbox_Checkbox","key","toggleAnswer","Filters","question","filter_FilterComp","applyFilter","updateColorBlind","transform","BarGraph","getAnswerWidth","value","data-content","concat","width","color","totalAnswers","toFixed","Result","state","counts","_getCountsAsArray","answerCounts","getColor","getChartType","renderBarGraph","renderPieChart","entries","_ref","_ref2","slicedToArray","prevProps","setState","_this3","length","_ref3","textDecoration","borderColor","bargraph_BarGraph","label","labelPosition","labelStyle","fontSize","dist_default","a","labelProps","dataIndex","percentage","results","filtersLength","activeFilters","computedResponsesLength","allResponsesCount","catIdx","catFilters","filter","questionKey","result_Result","Wrapper","_calcAnswerQuantities","filtering","isMobile","window","innerWidth","loaded","responses","showFilters","_getAnswersTemplate","toggleAnswerFilter","reduce","accum","response","forEach","split","subAnswer","_ref4","q","callback","req","XMLHttpRequest","onFail","event","Error","addEventListener","status","json","JSON","parse","responseText","open","send","getSurveyData","error","failedToLoad","_getSurveyResults","filters_Filters","_this4","questionsWithFilters","getFilters","computedResponses","getFilteredResponses","_ref5","_ref6","filteredAnswers","_ref7","_ref8","_ref9","filters","every","_ref11","_ref12","some","selectedAnswer","includes","updatedSection","objectSpread","defineProperty","App","react_default","createElement","AppWrapper_Wrapper","Component","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"yVA6FeA,EAAA,CACbC,QAAS,CACPC,SAAU,CAAC,WAAY,UAAW,UAAW,UAAW,UAAW,OACnEC,gBAAiB,CAAC,OAAQ,UAC1BC,MAAO,CACL,SACA,QACA,SACA,UACA,UACA,OACA,UACA,SACA,SAEFC,gBAAiB,CACf,uDACA,wEACA,iEAEFC,gBAAiB,CACf,WACA,WACA,YACA,gBACA,QACA,eACA,kCACA,gBAEFC,iBAAkB,CAChB,WACA,cACA,cACA,eACA,eACA,eACA,aAEFC,QAAS,CAAC,iBAAkB,qBAC5BC,2BAA4B,CAC1B,UACA,sBACA,yBACA,YACA,oBACA,sBACA,SACA,sBAEFC,aAAc,CAAC,MAAO,MACtBC,uBAAwB,CAAC,MAAO,MAChCC,0BAA2B,CACzB,UACA,sBACA,yBACA,YACA,oBACA,sBACA,SACA,sBAEFC,OAAQ,CACN,UACA,gBACA,aACA,cACA,YACA,iBACA,SACA,WACA,aAEFC,aAAc,CACZ,UACA,gBACA,aACA,cACA,YACA,iBACA,SACA,WACA,aAEFC,KAAM,CACJ,QACA,QACA,YACA,QACA,MACA,SACA,SACA,SAEFC,OAAQ,CAAC,WAAY,UAAW,SAAU,QAC1CC,KAAM,CAAC,MAAO,SAAU,QACxBC,WAAY,CAAC,MAAO,MAAO,KAAM,WAEnCC,OA/La,CACb,UACA,UACA,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,WAmLAC,iBAhLuB,CACvB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAwKAC,UArKgB,CAChBC,MAAO,UACPC,OAAQ,UACRC,KAAM,UACNC,QAAS,UACTC,OAAQ,UACRC,MAAO,UACPC,OAAQ,UACRC,QAAS,UACTC,QAAS,UACTC,GAAI,UACJC,GAAI,UACJC,KAAM,UACNC,KAAM,SACNC,KAAM,kBAwJNC,UArJgB,CAChB,WACA,kBACA,QACA,kBACA,kBACA,mBACA,UACA,6BACA,eACA,yBACA,4BACA,eACA,SACA,OACA,SAEA,OACA,cAoIAC,OAjIa,CACbnC,SAAU,mBACVC,gBAAiB,qCACjBC,MAAO,oCACPC,gB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","file":"static/js/main.8f6df24c.chunk.js","sourcesContent":["const colors = [\n  \"#C0392B\", // dark-red\n  \"#2980B9\", // dark-blue\n  \"#9B59B6\", // dark-purple\n  \"#D35400\", // dark-orange\n  \"#1E8449\", // Dark Green\n  // \"#D4AC0D\", // Lighter Dark Yellow\n  \"#B7950B\", // Dark Yellow\n  \"#D98880\", // light-red\n  \"#7FB3D5\", // light-blue\n  \"#C39BD3\", // light-purple\n  \"#F0B27A\", // light-orange\n  \"#7DCEA0\", // light-green\n  \"#B3B6B7\" // light-grey\n];\n\nconst colorBlindColors = [\n  \"#154360\",\n  \"#1A5276\",\n  \"#1F618D\",\n  \"#1F618D\",\n  \"#2980B9\",\n  \"#5499C7\",\n  \"#5DADE2\",\n  \"#7FB3D5\",\n  \"#85C1E9\"\n];\n\nconst colorsObj = {\n  Druid: \"#FF7D0A\",\n  Hunter: \"#ABD473\",\n  Mage: \"#40C7EB\",\n  Paladin: \"#F58CBA\",\n  Priest: \"#858585\",\n  Rogue: \"#F1C40F\",\n  Shaman: \"#0070DE\",\n  Warlock: \"#8787ED\",\n  Warrior: \"#C79C6E\",\n  DK: \"#C41F3B\",\n  DH: \"#A330C9\",\n  Monk: \"#00FF96\",\n  alt1: \"tomato\",\n  alt2: \"blanchedalmond\"\n};\n\nconst questions = [\n  \"ageRange\",\n  \"characterGender\",\n  \"class\",\n  \"classComparison\",\n  \"contentInterest\",\n  \"expectedTimeTo60\",\n  \"faction\",\n  \"firstRetailExpansionPlayed\",\n  \"hasActiveSub\",\n  \"hasPlayedPrivateServer\",\n  \"mostRecentExpansionPlayed\",\n  \"profLeveling\",\n  \"prof60\",\n  \"race\",\n  \"region\",\n  // \"responseDate\",\n  \"role\",\n  \"serverType\"\n];\n\nconst titles = {\n  ageRange: \"What is your age\",\n  characterGender: \"What gender will your character be\",\n  class: \"What class will your character be\",\n  classComparison:\n    \"Will you roll the same class your previous main, or try a new one\",\n  contentInterest: \"What content are you most excited about\",\n  expectedTimeTo60:\n    \"From the launch of Classic, how long do you anticipate it will take you, in real-world-time, to reach level 60\",\n  faction: \"What faction will your character belong to\",\n  firstRetailExpansionPlayed:\n    \"What is the earliest retail World of Warcraft expansion you played\",\n  hasActiveSub: \"Do you have an active World of Warcraft subscription\",\n  hasPlayedPrivateServer:\n    \"Had you played on a Vanilla WoW private server, prior to Classic's announcement\",\n  mostRecentExpansionPlayed:\n    \"What is the most recent retail World of Warcraft expansion you played?\",\n  profLeveling:\n    \"What primary professions will you be using while leveling from 1-60\",\n  prof60: \"What primary professions will you be using at level 60\",\n  race: \"What race will your character be\",\n  region: \"What region will you be playing on\",\n  responseDate: \"Response Timestamp\",\n  role: \"What will the primary role of your character be\",\n  serverType: \"What type of sever will you be playing on\"\n};\n\nexport default {\n  answers: {\n    ageRange: [\"Under 18\", \"18 - 24\", \"25 - 34\", \"35 - 44\", \"44 - 55\", \"55+\"],\n    characterGender: [\"Male\", \"Female\"],\n    class: [\n      \"Shaman\",\n      \"Rogue\",\n      \"Priest\",\n      \"Warrior\",\n      \"Paladin\",\n      \"Mage\",\n      \"Warlock\",\n      \"Hunter\",\n      \"Druid\"\n    ],\n    classComparison: [\n      \"I will be rolling the same class as my previous main\",\n      \"I will be rolling a class I have played extensively, but did not main\",\n      \"I will be rolling a new class, or one that I played minimally\"\n    ],\n    contentInterest: [\n      \"Questing\",\n      \"Dungeons\",\n      \"World PvP\",\n      \"Battlegrounds\",\n      \"Raids\",\n      \"Role Playing\",\n      \"Collecting items/recipes/wealth\",\n      \"Barrens Chat\"\n    ],\n    expectedTimeTo60: [\n      \"< 1 week\",\n      \"1 - 2 weeks\",\n      \"2 - 4 weeks\",\n      \"1 - 2 months\",\n      \"2 - 4 months\",\n      \"4 - 6 months\",\n      \"6+ months\"\n    ],\n    faction: [\"For the Horde!\", \"For the Alliance!\"],\n    firstRetailExpansionPlayed: [\n      \"Vanilla\",\n      \"The Burning Crusade\",\n      \"Wrath of the Lich King\",\n      \"Cataclysm\",\n      \"Mists of Pandaria\",\n      \"Warlords of Draenor\",\n      \"Legion\",\n      \"Battle for Azeroth\"\n    ],\n    hasActiveSub: [\"Yes\", \"No\"],\n    hasPlayedPrivateServer: [\"Yes\", \"No\"],\n    mostRecentExpansionPlayed: [\n      \"Vanilla\",\n      \"The Burning Crusade\",\n      \"Wrath of the Lich King\",\n      \"Cataclysm\",\n      \"Mists of Pandaria\",\n      \"Warlords of Draenor\",\n      \"Legion\",\n      \"Battle for Azeroth\"\n    ],\n    prof60: [\n      \"Alchemy\",\n      \"Blacksmithing\",\n      \"Enchanting\",\n      \"Engineering\",\n      \"Herbalism\",\n      \"Leatherworking\",\n      \"Mining\",\n      \"Skinning\",\n      \"Tailoring\"\n    ],\n    profLeveling: [\n      \"Alchemy\",\n      \"Blacksmithing\",\n      \"Enchanting\",\n      \"Engineering\",\n      \"Herbalism\",\n      \"Leatherworking\",\n      \"Mining\",\n      \"Skinning\",\n      \"Tailoring\"\n    ],\n    race: [\n      \"Human\",\n      \"Dwarf\",\n      \"Night Elf\",\n      \"Gnome\",\n      \"Orc\",\n      \"Undead\",\n      \"Tauren\",\n      \"Troll\"\n    ],\n    region: [\"Americas\", \"Oceanic\", \"Europe\", \"Asia\"],\n    role: [\"DPS\", \"Healer\", \"Tank\"],\n    serverType: [\"PvP\", \"PvE\", \"RP\", \"RP-PvP\"]\n  },\n  colors,\n  colorBlindColors,\n  colorsObj,\n  questions,\n  titles\n};\n","import * as React from \"react\";\nimport { Survey } from \"../typings\";\n\ninterface Props {\n  answer: string;\n  isSelected?: boolean;\n  isColorBlind: boolean;\n  onSelect: (\n    answer: string,\n    isSelected: boolean,\n    type: keyof Survey.Response\n  ) => void;\n  style?: React.CSSProperties;\n  type: keyof Survey.Response;\n}\n\ninterface State {}\n\nexport default class Checkbox extends React.Component<Props> {\n  public displayName = \"Checkbox\";\n\n  constructor(props: Props) {\n    super(props);\n\n    this.startOnSelect = this.startOnSelect.bind(this);\n  }\n\n  public render() {\n    return (\n      <div className=\"filters-filter-checkbox-cont\" style={this.props.style}>\n        <button\n          className=\"filters-filter-checkbox\"\n          onClick={this.startOnSelect}\n          style={{\n            backgroundColor: this.props.isSelected\n              ? this.props.isColorBlind\n                ? \"#1F618D\"\n                : \"#F1C40F\"\n              : \"transparent\"\n          }}\n        />\n\n        <label\n          className=\"filters-filter-checkbox-answer-text\"\n          role=\"button\"\n          onClick={this.startOnSelect}\n        >\n          {this.props.answer}\n        </label>\n      </div>\n    );\n  }\n\n  startOnSelect(\n    e:\n      | React.SyntheticEvent<HTMLButtonElement>\n      | React.MouseEvent<HTMLLabelElement, MouseEvent>\n  ) {\n    this.props.onSelect(\n      this.props.answer,\n      !!this.props.isSelected,\n      this.props.type\n    );\n  }\n}\n","import * as React from \"react\";\nimport Data from \"./data\";\nimport Checkbox from \"./checkbox\";\nimport { Survey } from \"../typings\";\n\ninterface Props {\n  idx: number;\n  isColorBlind: boolean;\n  selectedAnswers: {\n    [x: string]: boolean;\n  };\n  toggleAnswer: (\n    answer: string,\n    isSelected: boolean,\n    type: keyof Survey.Response\n  ) => void;\n  type: keyof Survey.Response;\n}\n\ninterface State {}\n\nexport default class FilterComp extends React.Component<Props, State> {\n  public displayName = \"FilterComp\";\n\n  constructor(props: Props) {\n    super(props);\n  }\n\n  render() {\n    const { idx, selectedAnswers, type } = this.props;\n    const title = Data.titles[type];\n    const answers = (Data.answers as { [x: string]: string[] })[type];\n\n    return (\n      <div className=\"filters-filter-cont\">\n        <h4 className=\"filters-filter-title\">\n          {idx}. {title}?\n        </h4>\n\n        {answers &&\n          answers.map((answer: string) => (\n            <Checkbox\n              answer={answer}\n              isColorBlind={this.props.isColorBlind}\n              isSelected={!!selectedAnswers[answer]}\n              key={answer}\n              onSelect={this.props.toggleAnswer}\n              type={this.props.type}\n            />\n          ))}\n      </div>\n    );\n  }\n}\n","import * as React from \"react\";\nimport Data from \"./data\";\nimport Filter from \"./filter\";\nimport { FilterTypes, Survey } from \"../typings\";\nimport Checkbox from \"./checkbox\";\n\nimport \"./styles.scss\";\n\ninterface Props {\n  applyFilter: () => void;\n  isColorBlind: boolean;\n  selectedAnswers: FilterTypes.SelectedAnswers;\n  toggleAnswer: (\n    answer: string,\n    isSelected: boolean,\n    type: keyof Survey.Response\n  ) => void;\n  updateColorBlind: () => void;\n}\n\ninterface State {}\n\nexport default class Filters extends React.Component<Props, State> {\n  public displayName = \"Filters\";\n\n  constructor(props: Props) {\n    super(props);\n  }\n\n  public render() {\n    return (\n      <div className=\"filters-main-cont\">\n        <h2 className=\"filters-title\">Filters</h2>\n\n        <div className=\"filters-filters-cont\">\n          {Data.questions.map((question, idx) => (\n            <Filter\n              idx={idx + 1}\n              isColorBlind={this.props.isColorBlind}\n              key={question}\n              selectedAnswers={\n                this.props.selectedAnswers[\n                  question as keyof FilterTypes.SelectedAnswers\n                ]\n              }\n              type={question as keyof Survey.Response}\n              toggleAnswer={this.props.toggleAnswer}\n            />\n          ))}\n        </div>\n        <div className=\"filter-button-cont\">\n          <button className=\"filter-button\" onClick={this.props.applyFilter}>\n            Apply Filter\n          </button>\n          <Checkbox\n            isSelected={this.props.isColorBlind}\n            isColorBlind={true}\n            answer=\"I'm colorblind\"\n            onSelect={(\n              answer: string,\n              isSelected: boolean,\n              type: keyof Survey.Response\n            ) => this.props.updateColorBlind()}\n            style={{ transform: \"scale(0.7)\" }}\n            type={\"expectedTimeTo60\"}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import * as React from \"react\";\n\nimport \"./bargraph.scss\";\n\ninterface Props {\n  answers: { color: string; title: string; value: number }[];\n  totalAnswers: number;\n}\n\ninterface State {}\n\nexport default class BarGraph extends React.Component<Props> {\n  public displayName = \"BarGraph\";\n\n  constructor(props: Props) {\n    super(props);\n\n    this.getAnswerWidth = this.getAnswerWidth.bind(this);\n  }\n\n  public render() {\n    return (\n      <div className=\"bar-graph\">\n        {this.props.answers &&\n          this.props.answers.map(\n            answer =>\n              !!answer.value && (\n                <p\n                  className=\"answer-bar\"\n                  data-content={`${answer.title}: ${\n                    answer.value\n                  } (${this.getAnswerWidth(answer)}%)`}\n                  key={answer.title}\n                  style={{\n                    width: `${this.getAnswerWidth(answer)}%`,\n                    backgroundColor: answer.color\n                  }}\n                />\n              )\n          )}\n        <p className=\"bar-graph-range\">\n          <span>0</span>\n          <span>{this.props.totalAnswers}</span>\n        </p>\n      </div>\n    );\n  }\n\n  getAnswerWidth(answer: { color: string; title: string; value: number }) {\n    return ((answer.value / this.props.totalAnswers) * 100).toFixed(2);\n  }\n}\n","import * as React from \"react\";\nimport PieChart from \"react-minimal-pie-chart\";\nimport BarGraph from \"./bargraph\";\n// import Chart from \"react-google-charts\";\nimport Data from \"../filters/data\";\nimport { Survey } from \"../typings\";\n\ninterface Props {\n  idx: number;\n  isColorBlind: boolean;\n  answerCounts: {\n    [x: string]: number;\n  };\n  question: keyof Survey.Response;\n  totalAnswers: number;\n}\n\ninterface State {\n  counts: {\n    title: string;\n    value: number;\n    color: string;\n  }[];\n  countsArr?: [string, number][];\n}\n\nexport default class Result extends React.Component<Props, State> {\n  public displayName = \"Result\";\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      counts: this._getCountsAsArray(props.answerCounts)\n      //   countsArr: this._getCountsAssARrayofArrays(props.answerCounts)\n    };\n\n    this.getColor = this.getColor.bind(this);\n    this.getChartType = this.getChartType.bind(this);\n    this.renderBarGraph = this.renderBarGraph.bind(this);\n    this.renderPieChart = this.renderPieChart.bind(this);\n  }\n\n  _getCountsAsArray(answerCounts: {\n    [x: string]: number;\n  }): {\n    title: string;\n    value: number;\n    color: string;\n  }[] {\n    return Object.entries(answerCounts).map(([key, value], idx) => ({\n      title: key,\n      value,\n      color: this.getColor(idx, key)\n    }));\n  }\n\n  _getCountsAssARrayofArrays(answerCounts: {\n    [x: string]: number;\n  }): [string, number][] {\n    return Object.entries(answerCounts);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      this.props.answerCounts !== prevProps.answerCounts ||\n      this.props.isColorBlind !== prevProps.isColorBlind\n    ) {\n      this.setState({\n        counts: this._getCountsAsArray(this.props.answerCounts)\n        // countsArr: this._getCountsAssARrayofArrays(this.props.answerCounts)\n      });\n    }\n  }\n\n  public render() {\n    return (\n      <div className=\"result-cont\">\n        <h4 className=\"result-title\">{Data.titles[this.props.question]}?</h4>\n        <div className=\"info-cont\">\n          {this.getChartType() === \"BarChart\"\n            ? this.renderBarGraph()\n            : this.renderPieChart()}\n\n          <ul className=\"stats-list-cont\">\n            {!!this.state.counts.length &&\n              this.state.counts.map(({ color, title, value }) => (\n                <li\n                  className=\"result-text\"\n                  key={title}\n                  style={{\n                    color,\n                    textDecoration: !value ? \"line-through\" : \"\"\n                  }}\n                >\n                  <span className=\"result-text-title\">{title}:</span>{\" \"}\n                  <span className=\"result-text-value\">\n                    {value} -{\" \"}\n                    <span\n                      className=\"result-text-value-percentage\"\n                      style={{\n                        borderColor: color\n                        // backgroundColor: color\n                      }}\n                    >\n                      {((value / this.props.totalAnswers) * 100).toFixed(2)}%\n                    </span>\n                  </span>\n                </li>\n              ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n\n  getColor(idx: number, key: string): string {\n    if (this.props.isColorBlind) {\n      return Data.colorBlindColors[idx];\n    }\n\n    return this.props.question === \"class\"\n      ? (Data.colorsObj as { [x: string]: string })[key]\n      : Data.colors[idx];\n  }\n\n  getChartType(): \"PieChart\" | \"BarChart\" {\n    switch (this.props.question) {\n      case \"prof60\":\n      case \"profLeveling\":\n      case \"contentInterest\":\n        return \"BarChart\";\n      default:\n        return \"PieChart\";\n    }\n  }\n\n  renderBarGraph() {\n    return (\n      <BarGraph\n        answers={this.state.counts}\n        totalAnswers={this.props.totalAnswers}\n      />\n    );\n  }\n\n  renderPieChart() {\n    const props = {\n      data: this.state.counts,\n      label: label,\n      labelPosition: 112,\n      labelStyle: {\n        fontSize: \"8x\"\n      }\n    };\n\n    // @ts-ignore\n    return <PieChart {...props} />;\n  }\n}\n\nconst label = (labelProps: {\n  dx: number;\n  dy: number;\n  data: { percentage: number }[];\n  dataIndex: number;\n}) => {\n  return labelProps.data[labelProps.dataIndex].percentage.toFixed(2) + \"%\";\n};\n","import * as React from \"react\";\nimport Data from \"../filters/data\";\nimport Result from \"./result\";\nimport { FilterTypes, Survey } from \"../typings\";\n\nimport \"./styles.scss\";\nimport data from \"../filters/data\";\n\ninterface Props {\n  activeFilters?: [keyof Survey.Response, Survey.AllAnswers[]][];\n  answerCounts: FilterTypes.AnswersCounts;\n  computedResponsesLength: number;\n  allResponsesCount: number;\n  isColorBlind: boolean;\n}\n\nexport default (props: Props) => {\n  const filtersLength = !!props.activeFilters ? props.activeFilters.length : 0;\n\n  return (\n    <div className=\"results-main-cont\">\n      <h1 className=\"results-title\">Results</h1>\n      <h3 className=\"results-subtitle\">\n        {props.computedResponsesLength} Responses match your filters,\n        Representing{\" \"}\n        {(\n          (props.computedResponsesLength / props.allResponsesCount) *\n          100\n        ).toFixed(2)}\n        % of respondees\n      </h3>\n      {props.activeFilters && !!props.activeFilters.length && (\n        <p>\n          Filtering for{\" \"}\n          {props.activeFilters.map(([category, catFilters], catIdx) => {\n            return (\n              <>\n                <span\n                  style={{\n                    color: props.isColorBlind\n                      ? data.colorBlindColors[catIdx]\n                      : data.colors[catIdx]\n                  }}\n                >\n                  {catIdx + 1}.[\n                  {catFilters.map((filter, idx) =>\n                    !!idx && idx + 1 === catFilters.length\n                      ? ` or ${filter}`\n                      : `${\n                          idx!! && idx + 1 !== catFilters.length ? \", \" : \" \"\n                        }${filter}`\n                  )}{\" \"}\n                  ]\n                </span>{\" \"}\n                {catIdx + 1 !== filtersLength ? \", and \" : \"\"}\n              </>\n            );\n          })}\n        </p>\n      )}\n      <div className=\"results-results-cont\">\n        {Data.questions.map((questionKey, idx) => (\n          <Result\n            idx={idx}\n            isColorBlind={props.isColorBlind}\n            key={questionKey}\n            question={questionKey as keyof Survey.Response}\n            answerCounts={\n              props.answerCounts[questionKey as keyof Survey.Response]\n            }\n            totalAnswers={props.computedResponsesLength}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n","import * as React from \"react\";\nimport Filters from \"./filters/\";\nimport Results from \"./results/\";\n// import Responses from \"./db\";\nimport Data from \"./filters/data\";\nimport { FilterTypes, Survey } from \"./typings\";\nimport { getSurveyData } from \"./utils\";\n\ninterface Props {}\n\ninterface State {\n  activeFilters?: [keyof Survey.Response, Survey.AllAnswers[]][];\n  answerCounts: FilterTypes.AnswersCounts;\n  answers: FilterTypes.SelectedAnswers;\n  computedResponsesLength: number;\n  failedToLoad?: boolean;\n  filtering: boolean;\n  isMobile: boolean;\n  isColorBlind: boolean;\n  loaded: boolean;\n  responses: Survey.Response[];\n  showFilters: boolean;\n}\n\nexport default class Wrapper extends React.Component<Props, State> {\n  public displayName = \"Wrapper\";\n\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      answers: {\n        ageRange: {},\n        characterGender: {},\n        class: {},\n        classComparison: {},\n        contentInterest: {},\n        expectedTimeTo60: {},\n        faction: {},\n        firstRetailExpansionPlayed: {},\n        hasActiveSub: {},\n        hasPlayedPrivateServer: {},\n        mostRecentExpansionPlayed: {},\n        prof60: {},\n        profLeveling: {},\n        race: {},\n        region: {},\n        responseDate: {},\n        role: {},\n        serverType: {}\n      },\n      answerCounts: this._calcAnswerQuantities([]),\n      computedResponsesLength: 0,\n      filtering: false,\n      isMobile: window.innerWidth < 480,\n      isColorBlind: false,\n      loaded: false,\n      responses: [],\n      showFilters: window.innerWidth > 480\n    };\n\n    this._calcAnswerQuantities = this._calcAnswerQuantities.bind(this);\n    this._getAnswersTemplate = this._getAnswersTemplate.bind(this);\n    this.toggleAnswerFilter = this.toggleAnswerFilter.bind(this);\n    this.applyFilter = this.applyFilter.bind(this);\n  }\n\n  _calcAnswerQuantities(responses: Survey.Response[]) {\n    const answerCounts = responses.reduce((accum, response) => {\n      const respAsArray = Object.entries(response);\n\n      respAsArray.forEach(([questionKey, answer]: string[]) => {\n        if (questionKey === \"responseDate\") {\n          return accum;\n        }\n        if (\n          questionKey === \"prof60\" ||\n          questionKey === \"profLeveling\" ||\n          questionKey === \"contentInterest\"\n        ) {\n          const subAnswers = answer.split(\", \");\n\n          subAnswers.forEach(subAnswer => {\n            if (!accum[questionKey as keyof Survey.Response][subAnswer]) {\n              accum[questionKey as keyof Survey.Response][subAnswer] = 1;\n            } else {\n              accum[questionKey as keyof Survey.Response][subAnswer]++;\n            }\n          });\n        } else {\n          if (!accum[questionKey as keyof Survey.Response][answer]) {\n            accum[questionKey as keyof Survey.Response][answer] = 1;\n          } else {\n            accum[questionKey as keyof Survey.Response][answer]++;\n          }\n        }\n\n        return accum;\n      });\n\n      return accum;\n    }, this._getAnswersTemplate());\n\n    return answerCounts;\n  }\n\n  _getAnswersTemplate() {\n    return Object.entries(Data.answers).reduce(\n      (accum, [q, answers]) => {\n        accum[q as keyof FilterTypes.AnswersCounts] = {};\n        answers.forEach(a => {\n          accum[q as keyof FilterTypes.AnswersCounts][a] = 0;\n        });\n        return accum;\n      },\n      {} as FilterTypes.AnswersCounts\n    );\n  }\n\n  _getSurveyResults() {\n    getSurveyData((error: Error | null, responses: Survey.Response[]) => {\n      if (error) {\n        this.setState({ failedToLoad: true });\n        return;\n      }\n\n      const answerCounts = this._calcAnswerQuantities(responses);\n      this.setState({\n        answerCounts,\n        computedResponsesLength: responses.length,\n        responses,\n        loaded: true\n      });\n    });\n  }\n\n  componentDidMount() {\n    this._getSurveyResults();\n  }\n\n  public render() {\n    if (this.state.failedToLoad) {\n      return (\n        <div className=\"main-wrapper\">Survey Results Failed to load :(</div>\n      );\n    }\n\n    if (!this.state.loaded) {\n      return (\n        <div className=\"loading-cont \">\n          <h1 className=\"loading-message\">Loadin' that sweet, sweet data...</h1>\n          <h4 className=\"loading-message-sub\">That means Survey Results</h4>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"main-wrapper\">\n        {this.state.isMobile && (\n          <button\n            className=\"filters-toggle\"\n            onClick={() =>\n              this.setState({ showFilters: !this.state.showFilters })\n            }\n          >\n            {this.state.showFilters ? \"Hide\" : \"Filters\"}\n          </button>\n        )}\n\n        {this.state.showFilters && (\n          <Filters\n            applyFilter={this.applyFilter}\n            isColorBlind={this.state.isColorBlind}\n            selectedAnswers={this.state.answers}\n            toggleAnswer={this.toggleAnswerFilter}\n            updateColorBlind={() =>\n              this.setState({ isColorBlind: !this.state.isColorBlind })\n            }\n          />\n        )}\n\n        {this.state.answerCounts && (\n          <Results\n            answerCounts={this.state.answerCounts}\n            activeFilters={this.state.activeFilters}\n            computedResponsesLength={this.state.computedResponsesLength}\n            allResponsesCount={this.state.responses.length}\n            isColorBlind={this.state.isColorBlind}\n          />\n        )}\n      </div>\n    );\n  }\n\n  applyFilter() {\n    this.setState({ filtering: true }, () => {\n      const { answers } = this.state;\n      const questionsWithFilters = this.getFilters(answers);\n\n      if (!questionsWithFilters.length) {\n        return this.setState({\n          activeFilters: [],\n          filtering: false,\n          answerCounts: this._calcAnswerQuantities(this.state\n            .responses as Survey.Response[]),\n          computedResponsesLength: (this.state.responses as Survey.Response[])\n            .length\n        });\n      }\n\n      const computedResponses = this.getFilteredResponses(\n        (this.state.responses as Survey.Response[]) || [],\n        questionsWithFilters\n      );\n      const answerCounts = this._calcAnswerQuantities(computedResponses);\n\n      this.setState({\n        activeFilters: questionsWithFilters,\n        answerCounts,\n        filtering: false,\n        computedResponsesLength: computedResponses.length\n      });\n    });\n  }\n\n  getFilters(\n    answers: FilterTypes.SelectedAnswers\n  ): [keyof Survey.Response, Survey.AllAnswers[]][] {\n    return Object.entries(answers).reduce(\n      (accum, [questionKey, selectedAnswers]) => {\n        const filteredAnswers = Object.entries(selectedAnswers as {\n          [x: string]: boolean;\n        })\n          .filter(([__, isSelected]) => isSelected)\n          .map(([answer]) => answer);\n\n        if (filteredAnswers.length) {\n          // @ts-ignore\n          return accum.concat([[questionKey, filteredAnswers]]);\n        }\n\n        return accum;\n      },\n      []\n    );\n  }\n\n  getFilteredResponses(\n    responses: Survey.Response[],\n    filters: [keyof Survey.Response, Survey.AllAnswers[]][]\n  ) {\n    return responses.filter(response => {\n      return filters.every(([questionKey, selectedAnswers]) => {\n        return (selectedAnswers as string[]).some(selectedAnswer => {\n          if (\n            questionKey === \"contentInterest\" ||\n            questionKey === \"prof60\" ||\n            questionKey === \"profLeveling\"\n          ) {\n            // @ts-ignore\n            return response[questionKey].includes(selectedAnswer);\n          }\n\n          return response[questionKey] === selectedAnswer;\n        });\n      });\n    });\n  }\n\n  toggleAnswerFilter(\n    answer: string,\n    isSelected: boolean,\n    type: keyof Survey.Response\n  ) {\n    const updatedSection = {\n      ...this.state.answers[type],\n      [answer]: !isSelected\n    };\n\n    this.setState({\n      answers: { ...this.state.answers, [type]: updatedSection }\n    });\n  }\n}\n","export function getSurveyData(callback) {\n  var req = new XMLHttpRequest();\n\n  req.addEventListener(\"load\", onDataLoaded);\n  req.addEventListener(\"error\", onFail);\n  req.addEventListener(\"abort\", onFail);\n\n  req.open(\n    \"GET\",\n    \"https://aablain.github.io/classic-survey-results/classic-survey-export.json\"\n  );\n  req.send();\n\n  function onDataLoaded(event) {\n    if (req.status >= 400) {\n      onFail(event);\n    } else {\n      var json = JSON.parse(this.responseText);\n      callback(null, json);\n    }\n  }\n\n  function onFail(event) {\n    callback(new Error(\"...\"));\n  }\n}\n","import React, { Component } from \"react\";\nimport AppWrapper from \"./AppWrapper\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        {/* <header className=\"App-header\"> */}\n        {/* <img src={logo} className=\"App-logo\" alt=\"logo\" />\n          <p>\n            Edit <code>src/App.tsx</code> and save to reload.\n          </p>\n          <a\n            className=\"App-link\"\n            href=\"https://reactjs.org\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            Learn React\n          </a> */}\n        {/* </header> */}\n        <AppWrapper />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}